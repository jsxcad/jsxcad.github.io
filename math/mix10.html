<html>
 <head>
  <style>
  {
    font-size: 1em;
  }
  </style>
 </head>
 <body>
  <script type='module'>
   import * as m from './mix10.js';
   const { body } = document;

   const buildProblem = (chosen) => {
     const problem = m.choose([
       { value: m.buildDistanceTimeProblem, weight: 100 },
       { value: m.buildCrashTimeProblem, weight: 100 },
       // { value: m.buildTimeDistanceProblem, weight: 100 },
       { value: m.buildTimeMeetProblem, weight: 100 },
       { value: m.buildWorkTogetherTimeProblem, weight: 100 },
       { value: m.buildWorkApartTimeProblem, weight: 100 },
       // { value: m.buildAttendanceTicketProblem, weight: 100 },
       { value: m.buildAttendanceProblem, weight: 100 },
       { value: m.buildLeverWeightProblem, weight: 100 },
       { value: m.buildLeverDistanceProblem, weight: 100 },
       { value: m.buildAgeProblem, weight: 100 },
       { value: m.buildProportionProblem, weight: 100 },
       { value: m.buildPerimeterDimensionsProblem, weight: 100 },
       // { value: m.buildAngleProblem, weight: 100 },
       { value: m.buildPerimeterSideProblem, weight: 100 },
       { value: m.buildTravelTimeBetweenCitiesProblem, weight: 100 },
       { value: m.buildTravelDistanceBetweenCitiesProblem, weight: 100 },
       { value: m.buildVehicleFuelDistanceProblem, weight: 100 },
       { value: m.buildCutProblem, weight: 100 },
       { value: m.buildBallProblem, weight: 100 },
       { value: m.buildCakeSliceProblem, weight: 100 },
       { value: m.buildDiceProblem, weight: 100 },
       { value: m.buildDiceProbabilityProblem, weight: 100 },
       // { value: m.buildCoinProblem, weight: 100 },
       { value: m.buildSimpleDivision31, weight: 100 },
       { value: m.buildSimpleDivision32, weight: 10 },
       { value: m.buildAddition, weight: 100 },
       { value: m.buildMultiplication21, weight: 10 },
       { value: m.buildMultiplication22, weight: 100 },
       { value: m.buildMultiplication32, weight: 100 },
       { value: m.buildMultiplicationTens, weight: 10 },
       { value: m.buildMultiplicationThousands, weight: 10 },
       { value: m.buildMultiplicationOneOffTens, weight: 100 },
       { value: m.buildMultiplicationOneOffHundreds, weight: 100 },
       // { value: m.buildMultiplicationInequality, weight: 100 },
       { value: m.buildMultiplicationInequalitySimple, weight: 100 },
       { value: m.buildRationalAddition, weight: 1000 },
       { value: m.buildRationalSubtraction, weight: 1000 },
       { value: m.buildDecimalDecimalSubtraction, weight: 100 },
       { value: m.buildIntegerRationalSubtraction, weight: 100 },
       { value: m.buildIntegerDecimalSubtraction, weight: 100 },
       { value: m.buildIntegerDecimalMultiplication, weight: 100 },
       { value: m.buildIntegerPercentageMultiplication, weight: 100 },
       { value: m.buildIntegerRationalMultiplication, weight: 100 },
       { value: m.buildIntegerRationalDivision, weight: 100 },
       { value: m.buildRationalMultiplication, weight: 100 },
       { value: m.buildRationalDivision, weight: 100 },
       { value: m.buildSubtraction, weight: 100 },
       { value: m.buildTimeAddition, weight: 1 },
       { value: m.buildTimeSubtraction, weight: 100 },
       { value: m.buildSquare, weight: 100 },
       { value: m.buildCube, weight: 100 },
       { value: m.buildSquareRoot, weight: 100 },
       { value: m.buildUnitAddition, weight: 10 },
       { value: m.buildUnitSubtraction, weight: 10 },
       { value: m.buildUnitMultiplication, weight: 100 },
       { value: m.buildUnitDivision, weight: 100 },
       { value: m.buildUnitDimensionlessDivision, weight: 10 },
       { value: m.buildUnitDimensionlessMultiplication, weight: 10 },
       { value: m.buildSameUnitAddition, weight: 100 },
       { value: m.buildSameUnitNegativeAddition, weight: 10 },
       { value: m.buildSameUnitSubtraction, weight: 100 },
       { value: m.buildSameUnitMultiplication, weight: 100 },
       { value: m.buildSameUnitDivision, weight: 100 },
       { value: m.buildConvertibleUnitAddition, weight: 100 },
       { value: m.buildConvertibleUnitNegativeAddition, weight: 100 },
       { value: m.buildConvertibleUnitSubtraction, weight: 100 },
       { value: m.buildConvertibleUnitMultiplication, weight: 100 },
       { value: m.buildConvertibleUnitDivision, weight: 100 },
       { value: m.buildSystemOfEquations, weight: 1000, limit: 5 },
       { value: m.buildSameBasisAddition, weight: 100 },
       { value: m.buildRationalInequality, weight: 10 },
       { value: m.buildReorderingProblem, weight: 1000 },
       { value: m.buildExpansionProblem, weight: 1000 },
       { value: m.buildKoreanUnitManProblem, weight: 100 },
       { value: m.buildKoreanUnitOkProblem, weight: 100 },
       { value: m.buildKoreanUnitJoProblem, weight: 100 },
       { value: m.buildDigitPlaceValueProblem, weight: 100 },
       // { value: m.buildPromptWord, weight: 100, limit: Infinity },
       // { value: m.buildThirdGradePromptWord, weight: 100, limit: Infinity },
       // { value: m.buildFourthGradePromptWord, weight: 100, limit: Infinity },
       // { value: m.buildEmotivePromptWord, weight: 100, limit: Infinity },
       // { value: m.buildFourthGradePromptWord, weight: 100, limit: Infinity },
       // { value: m.buildSpellingQuestion, weight: 100, limit: Infinity },
       { value: m.buildVocabProblem, weight: 1000, limit: 3 },
       { value: m.buildTriangleTwoProblem, weight: 100, limit: 1 },
       { value: m.buildTriangleKiteProblem, weight: 100, limit: 1 },
       { value: m.buildSubtractionWithCarryCascade, weight: 1000, limit: 1 },
       { value: m.buildGapSentenceProblem, weight: 1000, limit: 5 },
     ], chosen)
     return problem(chosen);
   };

   const drop = (x) => '';
   const keep = (x) => x;

   const t = document.createElement('table');
   const chosen = new Map();
   const buildColumn = (limit, chosen) => {
     const rows = [];
     while (limit > 0) {
       const problem = buildProblem(chosen);
       if (problem === undefined) {
         console.log(`QQ/buildColumn: bad=${buildProblem}`);
         return;
       }
       const { name, size, html } = problem;
       if (size === undefined || html === undefined) {
         console.log(`QQ/buildColumn: bad=${buildProblem}`);
         return;
       }
       if (size > limit) {
         continue;
       }
       rows.push(`<div style="margin: 0; padding: 0; height: ${10}px; border: none; font-size: 8px">${name}</div>`);
       rows.push(`<div style="margin: 0; padding: 5; height: ${size * 80 - 10}px; border: thin solid">${html}</div>`);
       limit -= size;
     }
     return rows.join('\n');
   }
   body.innerHTML = `
     <table style="width: 100%">
       <tr>
        <td style="width: 50%">
         ${buildColumn(10, chosen)}
        </td>
        <td style="width: 50%">
         ${buildColumn(10, chosen)}
        </td>
       </tr>
     </table>
   `;
  </script>
 </body>
</html>

<html>
 <head>
  <style>
  {
    font-size: 1em;
  }
  </style>
 </head>
 <body>
  <script type='module'>
   import * as m from './mix10.js';
   const { body } = document;

   const kTooEasy = 1;
   const kEasy = 10;
   const kStandard = 100;
   const kHigh = 1000;
   const kPriority = 2000;

   const buildProblem = (chosen) => {
     const problem = m.choose([
       { value: m.buildDistanceTimeProblem, weight: kStandard },
       { value: m.buildCrashTimeProblem, weight: kStandard },
       // { value: m.buildTimeDistanceProblem, weight: kStandard },
       { value: m.buildTimeMeetProblem, weight: kStandard },
       { value: m.buildWorkTogetherTimeProblem, weight: kHigh },
       { value: m.buildWorkApartTimeProblem, weight: kStandard },
       { value: m.buildAttendanceTicketProblem, weight: kPriority },
       { value: m.buildTicketCostProblem, weight: kHigh },
       { value: m.buildCostBillCoinProblem, weight: kEasy },
       { value: m.buildAttendanceProblem, weight: kStandard },
       { value: m.buildLeverWeightProblem, weight: kStandard },
       { value: m.buildLeverDistanceProblem, weight: kStandard },
       { value: m.buildAgeProblem, weight: kStandard },
       { value: m.buildProportionProblem, weight: kStandard },
       { value: m.buildPerimeterDimensionsProblem, weight: kStandard },
       // { value: m.buildAngleProblem, weight: kStandard },
       { value: m.buildPerimeterSideProblem, weight: kStandard },
       { value: m.buildTravelTimeBetweenCitiesProblem, weight: kStandard },
       { value: m.buildTravelDistanceBetweenCitiesProblem, weight: kStandard },
       { value: m.buildVehicleFuelDistanceProblem, weight: kStandard },
       { value: m.buildCutProblem, weight: kStandard },
       { value: m.buildBallProblem, weight: kStandard },
       { value: m.buildCakeSliceProblem, weight: kStandard },
       { value: m.buildDiceProblem, weight: kStandard },
       { value: m.buildDiceProbabilityProblem, weight: kStandard },
       // { value: m.buildCoinProblem, weight: kStandard },
       { value: m.buildSimpleDivision31, weight: kEasy },
       { value: m.buildSimpleDivision32, weight: kPriority },
       { value: m.buildSimpleDivision52, weight: kPriority },
       { value: m.buildAddition, weight: kStandard },
       { value: m.buildMultiplication21, weight: kEasy },
       { value: m.buildMultiplication22, weight: kStandard },
       { value: m.buildMultiplication32, weight: kStandard },
       { value: m.buildMultiplicationTens, weight: kEasy },
       { value: m.buildMultiplicationThousands, weight: kEasy },
       { value: m.buildMultiplicationOneOffTens, weight: kStandard },
       { value: m.buildMultiplicationOneOffHundreds, weight: kStandard },
       // { value: m.buildMultiplicationInequality, weight: kStandard },
       { value: m.buildMultiplicationInequalitySimple, weight: kStandard },
       { value: m.buildRationalAddition, weight: kHigh },
       { value: m.buildRationalSubtraction, weight: kHigh },
       { value: m.buildDecimalDecimalSubtraction, weight: kStandard },
       { value: m.buildIntegerRationalSubtraction, weight: kStandard },
       { value: m.buildIntegerDecimalSubtraction, weight: kStandard },
       { value: m.buildIntegerDecimalMultiplication, weight: kStandard },
       { value: m.buildIntegerPercentageMultiplication, weight: kStandard },
       { value: m.buildIntegerRationalMultiplication, weight: kStandard },
       { value: m.buildIntegerRationalDivision, weight: kPriority },
       { value: m.buildRationalMultiplication, weight: kStandard },
       { value: m.buildRationalDivision, weight: kStandard },
       { value: m.buildSubtraction, weight: kStandard },
       { value: m.buildTimeAddition, weight: kEasy },
       { value: m.buildTimeSubtraction, weight: kStandard },
       { value: m.buildSquare, weight: kStandard },
       { value: m.buildCube, weight: kStandard },
       { value: m.buildSquareRoot, weight: kStandard },
       { value: m.buildUnitAddition, weight: kEasy },
       { value: m.buildUnitSubtraction, weight: kEasy },
       { value: m.buildUnitMultiplication, weight: kStandard },
       { value: m.buildUnitDivision, weight: kStandard },
       { value: m.buildUnitDimensionlessDivision, weight: kEasy },
       { value: m.buildUnitDimensionlessMultiplication, weight: kEasy },
       { value: m.buildSameUnitAddition, weight: kStandard },
       { value: m.buildSameUnitNegativeAddition, weight: kEasy },
       { value: m.buildSameUnitSubtraction, weight: kStandard },
       { value: m.buildSameUnitMultiplication, weight: kStandard },
       { value: m.buildSameUnitDivision, weight: kStandard },
       { value: m.buildConvertibleUnitAddition, weight: kStandard },
       { value: m.buildConvertibleUnitNegativeAddition, weight: kStandard },
       { value: m.buildConvertibleUnitSubtraction, weight: kStandard },
       { value: m.buildConvertibleUnitMultiplication, weight: kStandard },
       { value: m.buildConvertibleUnitDivision, weight: kStandard },
       { value: m.buildSystemOfEquations, weight: kHigh, limit: 5 },
       { value: m.buildSameBasisAddition, weight: kStandard },
       { value: m.buildRationalInequality, weight: kTooEasy },
       { value: m.buildReorderingProblem, weight: kHigh },
       { value: m.buildExpansionProblem, weight: kHigh },
       { value: m.buildKoreanUnitManProblem, weight: kStandard },
       { value: m.buildKoreanUnitOkProblem, weight: kStandard },
       { value: m.buildKoreanUnitJoProblem, weight: kStandard },
       { value: m.buildDigitPlaceValueProblem, weight: kStandard },
       // { value: m.buildPromptWord, weight: kStandard, limit: Infinity },
       // { value: m.buildThirdGradePromptWord, weight: kStandard, limit: Infinity },
       // { value: m.buildFourthGradePromptWord, weight: kStandard, limit: Infinity },
       // { value: m.buildEmotivePromptWord, weight: kStandard, limit: Infinity },
       // { value: m.buildFourthGradePromptWord, weight: kStandard, limit: Infinity },
       // { value: m.buildSpellingQuestion, weight: kStandard, limit: Infinity },
       { value: m.buildVocabProblem, weight: kHigh, limit: 3 },
       { value: m.buildHanjaProblem, weight: kHigh, limit: 1 },
       { value: m.buildTriangleTwoProblem, weight: kStandard, limit: 1 },
       { value: m.buildTriangleKiteProblem, weight: kStandard, limit: 1 },
       { value: m.buildSubtractionWithCarryCascade, weight: kPriority, limit: 3 },
       { value: m.buildGapSentenceProblem, weight: kPriority, limit: 5 },
       { value: m.buildSequenceProblem, weight: kPriority, limit: 1 },
       { value: m.buildRectangleAreaProblem, weight: kPriority, limit: 1 },
     ], chosen)
     return problem(chosen);
   };

   const drop = (x) => '';
   const keep = (x) => x;

   const t = document.createElement('table');
   const chosen = new Map();
   const buildColumn = (limit, chosen) => {
     const rows = [];
     while (limit > 0) {
       const problem = buildProblem(chosen);
       if (problem === undefined) {
         console.log(`QQ/buildColumn: bad=${buildProblem}`);
         return;
       }
       const { name, size, html } = problem;
       if (size === undefined || html === undefined) {
         console.log(`QQ/buildColumn: bad=${buildProblem}`);
         return;
       }
       if (size > limit) {
         continue;
       }
       rows.push(`<div style="margin: 0; padding: 0; height: ${10}px; border: none; font-size: 8px">${name}</div>`);
       rows.push(`<div style="margin: 0; padding: 5; height: ${size * 80 - 10}px; border: thin solid">${html}</div>`);
       limit -= size;
     }
     return rows.join('\n');
   }
   body.innerHTML = `
     <table style="width: 100%">
       <tr>
        <td style="width: 50%">
         ${buildColumn(10, chosen)}
        </td>
        <td style="width: 50%">
         ${buildColumn(10, chosen)}
        </td>
       </tr>
     </table>
   `;
  </script>
 </body>
</html>

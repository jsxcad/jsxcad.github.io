
<html>
 <head>
  <title>Jot</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://jsxcad.js.org/css/standalone.css" />
 </head>
 <body>
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script type='module'>
    import { run } from 'https://jsxcad.js.org/alpha/jsxcad-ui-app-standalone.js';
    run({ encodedFiles: {"source/nb/projects/pentacular/tiles/hex.nb":"Y29uc3QgaGV4ID0gSGV4YWdvbigzMik7Cgpjb25zdCBUYWIgPSAodGhpY2tuZXNzLCB0YWJMZW5ndGgpID0+CiAgQm94KFswLjUsIC0xXSwgW3RoaWNrbmVzcyAqIDUsIC10aGlja25lc3MgKiA1XSwgW3RoaWNrbmVzcywgLXRoaWNrbmVzc10pCiAgICAuYW5kKAogICAgICBCb3goCiAgICAgICAgWzAuNSwgLTFdLAogICAgICAgIFt0aGlja25lc3MgKiAyLCB0aGlja25lc3MgKiA0XSwKICAgICAgICBbdGhpY2tuZXNzICogMiwgdGhpY2tuZXNzICogLTJdCiAgICAgICksCiAgICAgIEJveCgKICAgICAgICBbMC41LCAtMV0sCiAgICAgICAgW3RoaWNrbmVzcyAqIC0yLCB0aGlja25lc3MgKiAtNF0sCiAgICAgICAgW3RoaWNrbmVzcyAqIDIsIHRoaWNrbmVzcyAqIC0yXQogICAgICApCiAgICApCiAgICAuYXMoJ3RhYicpOwoKY29uc3QgcGxhY2VUYWIgPSAodGFiKSA9PiAoZSwgbCkgPT4gKHMpID0+CiAgdGFiCiAgICAueihsICogKDEgLyAyKSkKICAgIC5jb2xvcigncmVkJykKICAgIC5tYXNrZWQoZ3JvdygwLjEsICd5eicpLmdyb3coMC4yLCAneCcpKQogICAgLnRvKGUpOwoKY29uc3QgdGFiID0gYXdhaXQgVGFiKDEuNSwgMzIgLyA4KTsKCnRhYi5zdGwoJ3RhYicsIHJ5KDEgLyA0KSk7Cgpjb25zdCBoZXhUaWxlID0gaGV4CiAgLmluc2V0KDAuMSkKICAuZXooWzIsIC0xXSkKICAuY3V0KGhleC5lYWNoRWRnZShwbGFjZVRhYih0YWIpKSkKICAuZnVzZSgpCiAgLmNsZWFuKCk7Cgpjb25zdCBzcXVhcmUgPSBCb3goMzIpOwoKY29uc3QgcGxhY2UgPSAodHVybikgPT4gewogIGlmICh0dXJuID09PSAwKSB7CiAgICByZXR1cm4gUG9pbnQoKTsKICB9IGVsc2UgewogICAgcmV0dXJuIFBvaW50KCkKICAgICAgLngoMTMgLyAyKQogICAgICAucnoodHVybik7CiAgfQp9OwoKY29uc3QgcGxhY2VCZXR3ZWVuID0gKHR1cm4pID0+IHsKICBpZiAodHVybiA9PT0gMCkgewogICAgcmV0dXJuIFBvaW50KCk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBQb2ludCgpCiAgICAgIC54KDEzIC8gMikKICAgICAgLnJ6KHR1cm4gKyAxIC8gMTIpOwogIH0KfTsKCmNvbnN0IGJ1aWxkVHJlZSA9IENhY2hlZCgnVHJlZScsICh7IGR4LCBkeSwgZHogfSkgPT4KICBIdWxsKE9yYig2KSwgUG9pbnQoZHgsIGR5LCBkeikpCiAgICAuam9pbihBcmMoMiwgMiwgWy00XSkpCiAgICAuYWxpZ24oJ3o+JykKICAgIC5yZW1lc2goMSkKICAgIC5zbW9vdGgoQm94KDgsIDgsIFszLCAyMF0pKQogICAgLmNsZWFuKCkKKTsKCmNvbnN0IFRyZWUgPSAoc2VlZCA9IDApID0+IHsKICBjb25zdCBkeCA9IHJhbmRvbShzZWVkKS5waWNrKDMsIDIsIDEsIDAsIC0xLCAtMiwgLTMpOwogIGNvbnN0IGR5ID0gcmFuZG9tKHNlZWQgKyAxKS5waWNrKDMsIDIsIDEsIDAsIC0xLCAtMiwgLTMpOwogIGNvbnN0IGR6ID0gcmFuZG9tKHNlZWQgKyAyKS5waWNrKDQsIDUsIDYsIDcsIDgpOwogIHJldHVybiBidWlsZFRyZWUoeyBkeDogZHgoMCksIGR5OiBkeSgwKSwgZHo6IGR6KDApIH0pOwp9OwoKY29uc3QgUGVha3MgPSAoc2VlZCA9IDAsIHR1cm5zID0gWzBdLCBudGggPSAwKSA9PiB7CiAgY29uc3QgcGVha3MgPSBbXTsKICBmb3IgKGNvbnN0IHR1cm4gb2YgdHVybnMpIHsKICAgIG50aCArPSAxOwogICAgY29uc3QgZGEgPSByYW5kb20oc2VlZCArIG50aCArIDEpLmluKDAsIDEpOwogICAgY29uc3QgZGQgPSByYW5kb20oc2VlZCArIG50aCArIDIpLmluKDAsIDYpOwogICAgY29uc3QgZHogPSByYW5kb20oc2VlZCArIG50aCArIDMpLmluKDIsIDIwKTsKICAgIHBlYWtzLnB1c2goCiAgICAgIFNlcSh7IHVwdG86IDMgfSwgKHQpID0+CiAgICAgICAgSHVsbChIZXhhZ29uKDE2KSwgUG9pbnQoZGQodCksIDAsIGR6KHQpKS5yeihkYSh0KSkpCiAgICAgICkudG8ocGxhY2UodHVybikpCiAgICApOwogIH0KICByZXR1cm4gR3JvdXAoLi4ucGVha3MpCiAgICAuYW5kKGhleC5leihbMC4xXSkpCiAgICAuZnVzZSgpCiAgICAucmVtZXNoKDEpCiAgICAuc21vb3RoKGhleC5leihbMC4yLCAyMV0pKQogICAgLmNsZWFuKCk7Cn07Cgpjb25zdCBNb3VudGFpbm91cyA9CiAgKG1heEhlaWdodCA9IDEzLCBtaW5IZWlnaHQgPSAxLCBwZWFrcyA9IDEwKSA9PgogIChzZWVkID0gMCkgPT4gewogICAgY29uc3QgdHVybiA9IHJhbmRvbShzZWVkICsgMSkuaW4oMCwgMSk7CiAgICBjb25zdCBkaXN0YW5jZSA9IHJhbmRvbShzZWVkICsgMikuaW4oMCwgMTMpOwogICAgY29uc3QgaGVpZ2h0ID0gcmFuZG9tKHNlZWQgKyAzKS5pbihtaW5IZWlnaHQsIG1heEhlaWdodCk7CiAgICByZXR1cm4gU2VxKHsgdXB0bzogcGVha3MgfSwgKHQpID0+CiAgICAgIEh1bGwoaGV4LCBQb2ludChkaXN0YW5jZSh0KSwgMCwgaGVpZ2h0KHQpKS5yeih0dXJuKHQpKSkKICAgICkKICAgICAgLmZ1c2UoKQogICAgICAucmVtZXNoKDEpCiAgICAgIC5zbW9vdGgoaGV4LmV6KFswLjIsIDIxXSkpCiAgICAgIC5jbGVhbigpCiAgICAgIC56KDIpCiAgICAgIC5hbmQoaGV4VGlsZSk7CiAgfTsKCmNvbnN0IE1vdW50YWluID0gQ2FjaGVkKCdNb3VudGFpbicsIE1vdW50YWlub3VzKDIwLCAxKSk7Cgpjb25zdCBIaWxsID0gQ2FjaGVkKCdIaWxsJywgTW91bnRhaW5vdXMoNikpOwoKY29uc3QgTWVhZG93ID0gQ2FjaGVkKCdNZWFkb3cnLCBNb3VudGFpbm91cygyLCAwKSk7Cgpjb25zdCBGbGF0ID0gQ2FjaGVkKCdGbGF0JywgTW91bnRhaW5vdXMoMCwgMCkpOwoKY29uc3QgRm9yZXN0ID0gQ2FjaGVkKCdGb3Jlc3QnLCAoc2VlZCA9IDAsIHR1cm4gPSAwLCBudGgsIGNvdW50ID0gNDApID0+IHsKICBjb25zb2xlLmxvZyhgRm9yZXN0OiBzZWVkPSR7c2VlZH0sIHR1cm49JHt0dXJufSwgY291bnQ9JHtjb3VudH1gKTsKICBjb25zdCBnZXRBbmdsZSA9IHJhbmRvbShzZWVkICsgMSkuaW4oMCwgMSk7CiAgY29uc3QgZ2V0RGlzdGFuY2UgPSByYW5kb20oc2VlZCArIDIpLmluKDAsIDEzKTsKICBjb25zdCB0cmVlcyA9IFtdOwogIGZvciAobGV0IG50aCA9IDA7IG50aCA8IGNvdW50OyBudGgrKykgewogICAgY29uc3QgYW5nbGUgPSBnZXRBbmdsZShudGgpOwogICAgY29uc3QgZGlzdGFuY2UgPSBnZXREaXN0YW5jZShudGgpOwogICAgaWYgKHR1cm4gPT09IDApIHsKICAgICAgaWYgKGRpc3RhbmNlID49IDEzIC8gMikgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9IGVsc2UgaWYgKAogICAgICBhbmdsZSA8IHR1cm4gLSAxIC8gMTIgfHwKICAgICAgYW5nbGUgPj0gdHVybiArIDEgLyAxMiB8fAogICAgICBkaXN0YW5jZSA8IDEzIC8gMgogICAgKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgdHJlZXMucHVzaCgKICAgICAgVHJlZSgoc2VlZCArIG50aCkgJSAxMCkKICAgICAgICAueChkaXN0YW5jZSkKICAgICAgICAucnooYW5nbGUpCiAgICApOwogIH0KICByZXR1cm4gR3JvdXAoLi4udHJlZXMpLnooMik7Cn0pOwoKY29uc3QgU3dhbXAgPSAoc2VlZCA9IDAsIHR1cm4gPSAwLCBudGggPSAwLCBjb3VudCA9IDUpID0+IHsKICBzZWVkICs9IG50aDsKICBjb25zb2xlLmxvZyhgU3dhbXAke250aH06IHNlZWQ9JHtzZWVkfSwgdHVybj0ke3R1cm59LCBjb3VudD0ke2NvdW50fWApOwogIGNvbnN0IGdldEFuZ2xlID0gcmFuZG9tKHNlZWQgKiAyMzQpLmluKDAsIDEpOwogIGNvbnN0IGdldERpc3RhbmNlID0gcmFuZG9tKHNlZWQgKiA1NDMpLmluKDAsIDgpOwogIGNvbnN0IGdldERpYW1ldGVyID0gcmFuZG9tKHNlZWQgKiA2NDUpLmluKDEsIDUpOwoKICBjb25zdCBob2xlcyA9IFtdOwogIGZvciAobGV0IG50aCA9IDA7IG50aCA8IGNvdW50OyBudGgrKykgewogICAgaG9sZXMucHVzaCgKICAgICAgQXJjKGdldERpYW1ldGVyKG50aCksIGdldERpYW1ldGVyKG50aCksIFstMC41LCAxMF0pCiAgICAgICAgLngoZ2V0RGlzdGFuY2UobnRoKSkKICAgICAgICAucnooZ2V0QW5nbGUobnRoKSkKICAgICk7CiAgfQogIGNvbnNvbGUubG9nKGBob2xlczogJHtob2xlcy5sZW5ndGh9YCk7CiAgcmV0dXJuIEdyb3VwKC4uLmhvbGVzKQogICAgLnRvKHBsYWNlKHR1cm4pKQogICAgLnooMik7Cn07Cgpjb25zdCBJc2xhbmQgPSAoc2VlZCA9IDAsIG50aCA9IDApID0+IHsKICBjb25zdCBkeCA9IHJhbmRvbShzZWVkKS5pbigzLCA5KTsKICBjb25zdCBkeSA9IHJhbmRvbShzZWVkICsgMSkuaW4oMywgOSk7CiAgY29uc3QgZHogPSByYW5kb20oc2VlZCArIDIpLmluKDIsIDYpOwogIHJldHVybiBPcmIoZHgobnRoKSwgZHkobnRoKSwgZHoobnRoKSAqIDIpLmNsaXAoCiAgICBCb3goZHgobnRoKSwgZHkobnRoKSwgWzEuNSwgZHoobnRoKV0pCiAgKTsKfTsKCmNvbnN0IHdhdmUgPSAobG93ID0gMS41LCBoaWdoID0gNC41LCB0dXJuID0gMCkgPT4KICBjdXQoCiAgICBBcmNYKDMyLCAyLCBbbG93LCBoaWdoXSkuc2VxKHsgZnJvbTogLTIwLCB0bzogMjAsIGJ5OiAxLjc1IH0sIHkpLnJ6KHR1cm4pCiAgKTsKCmNvbnN0IFdhdmVzID0gKHNlZWQgPSAwLCBudGggPSAwKSA9PiBoZXguZXooWzEuNSwgM10pLmpvaW4oaGV4VGlsZSkub3Aod2F2ZSk7Cgpjb25zdCBEdW5lcyA9IChzZWVkID0gMCwgbnRoID0gMCkgPT4KICBoZXgKICAgIC5leihbMS41LCAzLjVdKQogICAgLmpvaW4oaGV4VGlsZSkKICAgIC5jdXQoQXJjWCgzMiwgMywgWzIsIDUuNV0pLnNlcSh7IGZyb206IC0yMCwgdG86IDIwLCBieTogMyB9LCB5KSk7Cgpjb25zdCBSaXZlciA9IENhY2hlZCgnUml2ZXInLCAoc2VlZCA9IDAsIHRvID0gMyAvIDYsIGZyb20gPSAwIC8gNikgPT4gewogIGNvbnN0IGR5MSA9IHJhbmRvbShzZWVkICogMTExKS5pbigtMTgsIDE4KTsKICBjb25zdCBkeTIgPSByYW5kb20oc2VlZCAqIDY5KS5pbigtMTgsIDE4KTsKICBjb25zdCBkciA9IHJhbmRvbShzZWVkICogMTIzKS5pbigzLCA2KTsKICByZXR1cm4gQ3VydmUoCiAgICBQb2ludCgxNiAtIDIsIDAsIDApLnJ6KGZyb20pLAogICAgUG9pbnQoOCwgZHkxKDApKS5yeihmcm9tKSwKICAgIFBvaW50KDgsIGR5MigxKSkucnoodG8pLAogICAgUG9pbnQoMTYgLSAyLCAwLCAwKS5yeih0bykKICApCiAgICAuZWFjaFBvaW50KChwLCBuKSA9PiAocykgPT4gT3JiKDIsIGRyKG4pLCA0KS5oYXNaYWcoMSkudG8ocCksIENoYWluSHVsbCkKICAgIC56KDMpCiAgICAuY2xlYW4oKQogICAgLmZ1c2UoKTsKfSk7Cgpjb25zdCBQYXRoID0gKHNlZWQgPSAwLCB0byA9IDMgLyA2LCBmcm9tID0gMCAvIDYsIG50aCA9IDApID0+IHsKICBjb25zb2xlLmxvZyhgUGF0aCAke3NlZWR9ICR7dG99ICR7ZnJvbX0gJHtudGh9YCk7CiAgY29uc3QgZHkxID0gcmFuZG9tKChzZWVkICsgbnRoKSAqIDg3KS5pbigtMjAsIDIwKTsKICBjb25zdCBkeTIgPSByYW5kb20oKHNlZWQgKyBudGgpICogMzEpLmluKC0yMCwgMjApOwogIGNvbnN0IGN1cnZlID0KICAgIHRvID09PSAwCiAgICAgID8gQ3VydmUoCiAgICAgICAgICBQb2ludCgxNiAtIDIsIDAsIDApLnJ6KGZyb20pLAogICAgICAgICAgUG9pbnQoMTEsIGR5MSgwKSkucnooZnJvbSksCiAgICAgICAgICBQb2ludCg1LCBkeTIoMSkpLnJ6KGZyb20pLAogICAgICAgICAgUG9pbnQoMCwgMCwgMCkKICAgICAgICApCiAgICAgIDogQ3VydmUoCiAgICAgICAgICBQb2ludCgxNiAtIDIsIDAsIDApLnJ6KGZyb20pLAogICAgICAgICAgUG9pbnQoNiwgZHkxKDApKS5yeihmcm9tKSwKICAgICAgICAgIFBvaW50KDYsIGR5MigxKSkucnoodG8pLAogICAgICAgICAgUG9pbnQoMTYgLSAyLCAwLCAwKS5yeih0bykKICAgICAgICApOwogIHJldHVybiBjdXJ2ZQogICAgLmVhY2hQb2ludCgKICAgICAgKHAsIG4pID0+IChzKSA9PgogICAgICAgIEFyYygyLCAyLCBbMCwgNF0pCiAgICAgICAgICAuYW5kKE9yYigyLCAyLCBbMywgNV0pLmhhc1phZygxKSkKICAgICAgICAgIC50byhwKSwKICAgICAgQ2hhaW5IdWxsCiAgICApCiAgICAuY2xlYW4oKQogICAgLmZ1c2UoKTsKfTsKCmNvbnN0IFJvYWQgPSAoc2VlZCA9IDAsIHRvID0gMyAvIDYsIGZyb20gPSAwIC8gNikgPT4gewogIGNvbnN0IGR5MSA9IHJhbmRvbShzZWVkICogODcpLmluKC0yMCwgMjApOwogIGNvbnN0IGR5MiA9IHJhbmRvbShzZWVkICogMzEpLmluKC0yMCwgMjApOwogIGNvbnN0IGN1cnZlID0KICAgIHRvID09PSAwCiAgICAgID8gQ3VydmUoCiAgICAgICAgICBQb2ludCgxNiAtIDIsIDAsIDApLnJ6KGZyb20pLAogICAgICAgICAgUG9pbnQoMTEsIGR5MSgwKSkucnooZnJvbSksCiAgICAgICAgICBQb2ludCg1LCBkeTIoMSkpLnJ6KGZyb20pLAogICAgICAgICAgUG9pbnQoMCwgMCwgMCkKICAgICAgICApCiAgICAgIDogQ3VydmUoCiAgICAgICAgICBQb2ludCgxNiAtIDIsIDAsIDApLnJ6KGZyb20pLAogICAgICAgICAgUG9pbnQoNiwgZHkxKDApKS5yeihmcm9tKSwKICAgICAgICAgIFBvaW50KDYsIGR5MigxKSkucnoodG8pLAogICAgICAgICAgUG9pbnQoMTYgLSAyLCAwLCAwKS5yeih0bykKICAgICAgICApOwogIHJldHVybiBjdXJ2ZQogICAgLm9wKChzKSA9PgogICAgICBzCiAgICAgICAgLmVhY2hQb2ludCgKICAgICAgICAgIChwLCBuKSA9PiAocykgPT4KICAgICAgICAgICAgQXJjKDYsIDYsIFstMC41LCA0XSkKICAgICAgICAgICAgICAuYW5kKE9yYig2LCA2LCBbMywgNV0sIHsgemFnOiAxIH0pKQogICAgICAgICAgICAgIC50byhwKSwKICAgICAgICAgIENoYWluSHVsbAogICAgICAgICkKICAgICAgICAuY3V0KAogICAgICAgICAgcy5lYWNoUG9pbnQoKHAsIG4pID0+IChzKSA9PiBBcmMoMywgMywgWy0wLjUsIDBdKS50byhwKSwgQ2hhaW5IdWxsKQogICAgICAgICkKICAgICkKICAgIC5jbGVhbigpCiAgICAuZnVzZSgpCiAgICAueigyKTsKfTsKCmNvbnN0IGJ1aWxkVHVubmVsID0gQ2FjaGVkKCdUdW5uZWwnLCAoeyBmcm9tLCB0bywgZHkxLCBkeTIgfSkgPT4gewogIGNvbnNvbGUubG9nKGBidWlsZFR1bm5lbDogJHtKU09OLnN0cmluZ2lmeSh7IGZyb20sIHRvLCBkeTEsIGR5MiB9KX1gKTsKICBjb25zdCBjdXJ2ZSA9CiAgICB0byA9PT0gMAogICAgICA/IEN1cnZlKAogICAgICAgICAgUG9pbnQoMTYgLSAyLCAwLCAwKS5yeihmcm9tKSwKICAgICAgICAgIFBvaW50KDExLCBkeTEpLnJ6KGZyb20pLAogICAgICAgICAgUG9pbnQoNSwgZHkyKS5yeihmcm9tKSwKICAgICAgICAgIFBvaW50KDAsIDAsIDApCiAgICAgICAgKQogICAgICA6IEN1cnZlKAogICAgICAgICAgUG9pbnQoMTYgLSAyLCAwLCAwKS5yeihmcm9tKSwKICAgICAgICAgIFBvaW50KDYsIGR5MSkucnooZnJvbSksCiAgICAgICAgICBQb2ludCg2LCBkeTIpLnJ6KHRvKSwKICAgICAgICAgIFBvaW50KDE2IC0gMiwgMCwgMCkucnoodG8pCiAgICAgICAgKTsKICByZXR1cm4gY3VydmUKICAgIC5lYWNoUG9pbnQoCiAgICAgIChwLCBuKSA9PiAocykgPT4KICAgICAgICBBcmMoMiwgMiwgWzEuNSwgNF0pCiAgICAgICAgICAuYW5kKE9yYigyLCAyLCBbMywgNV0pLmhhc1phZygxKSkKICAgICAgICAgIC50byhwKSwKICAgICAgQ2hhaW5IdWxsCiAgICApCiAgICAuY2xlYW4oKQogICAgLmZ1c2UoKTsKfSk7Cgpjb25zdCBUdW5uZWwgPSAoc2VlZCA9IDAsIHRvID0gMyAvIDYsIGZyb20gPSAwIC8gNiwgbnRoID0gMCkgPT4gewogIGNvbnN0IGR5MSA9IHJhbmRvbSgobnRoICsgc2VlZCkgKiA4NykucGljaygKICAgIC0yMCwKICAgIC0xNSwKICAgIC0xMCwKICAgIC01LAogICAgMCwKICAgIDUsCiAgICAxMCwKICAgIDE1LAogICAgMjAKICApOwogIGNvbnN0IGR5MiA9IHJhbmRvbSgobnRoICsgc2VlZCkgKiAzMSkucGljaygKICAgIC0yMCwKICAgIC0xNSwKICAgIC0xMCwKICAgIC01LAogICAgMCwKICAgIDUsCiAgICAxMCwKICAgIDE1LAogICAgMjAKICApOwogIHJldHVybiBidWlsZFR1bm5lbCh7IGZyb20sIHRvLCBkeTE6IGR5MSgwKSwgZHkyOiBkeTIoMCkgfSk7Cn07Cgpjb25zdCBidWlsZEZpZWxkID0gQ2FjaGVkKCdGaWVsZCcsICh7IGRyLCBkcywgdHVybiB9KSA9PiB7CiAgaWYgKHR1cm4gPT09IDApIHsKICAgIHJldHVybiBIZXhhZ29uKDEwKS5leihbMiwgNF0pLm9wKHdhdmUoMy41LCA1KSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBUcmlhbmdsZSgxNCArIGRzKQogICAgICAuY2xpcChCb3goMjAsIDYgKyBkcykpCiAgICAgIC5leihbMiwgNF0pCiAgICAgIC50byhwbGFjZSh0dXJuKSkKICAgICAgLm9uKAogICAgICAgIG5vT3AoKSwKICAgICAgICByeigtMyAvIDEyKQogICAgICAgICAgLngoMi41KQogICAgICAgICAgLm9wKHdhdmUoMy41LCA1LCBkcikpCiAgICAgICk7CiAgfQp9KTsKCmNvbnN0IEZpZWxkID0gKHNlZWQgPSAwLCB0dXJuID0gMCwgbnRoID0gMCkgPT4gewogIGNvbnN0IGRyID0gcmFuZG9tKHNlZWQgKiAzOTgpLnBpY2soMCAvIDYsIDEgLyA2LCAyIC8gNiwgMyAvIDYsIDQgLyA2LCA1IC8gNik7CiAgY29uc3QgZHMgPSByYW5kb20oc2VlZCAqIDM5OCkucGljaygwLCA0LjEpOwogIHJldHVybiBidWlsZEZpZWxkKHsgZHI6IGRyKG50aCksIGRzOiBkcyhudGgpLCB0dXJuIH0pOwp9OwoKY29uc3QgV2FsbCA9IChzZWVkID0gMCwgdHVybiA9IDAsIG50aCA9IDApID0+CiAgVHJpYW5nbGUoMTgpCiAgICAuY2xpcChCb3goMjAsIFstNSwgLTNdKSkKICAgIC5leihbMiwgOF0pCiAgICAudG8ocGxhY2UodHVybikpCiAgICAub24oc2VsZigpLCByeigtMyAvIDEyKS54KDIuNSkpOwoKY29uc3QgQnVpbGRpbmcgPSAoc2VlZCA9IDAsIHR1cm4gPSAwLCBudGggPSAwKSA9PiB7CiAgY29uc3QgZGggPSByYW5kb20oc2VlZCAqIDM5OCkuaW4oMCwgMjApOwogIGNvbnN0IGRhID0gcmFuZG9tKHNlZWQgKiA0MzIpLmluKDAsIDEpOwogIGlmICh0dXJuID09PSAwKSB7CiAgICByZXR1cm4gSGV4YWdvbigxMCkKICAgICAgLmV6KFsyLCBkaChudGgpICsgMTBdKQogICAgICAuaHVsbChzZWxmKCksIFBvaW50KDAsIDAsIGRoKG50aCkgKyAxNSkpCiAgICAgIC5jdXQoCiAgICAgICAgU2VxKHsgZnJvbTogMiwgdG86IGRoKG50aCkgKyA1LCBieTogOCB9LCAoaCkgPT4KICAgICAgICAgIEJveCgzLjUsIDE1LCBbaCwgaCArIDVdKS5yeihkYShudGggKyBoKSkKICAgICAgICApCiAgICAgICk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBUcmlhbmdsZSgxNCkKICAgICAgLmNsaXAoQm94KDIwLCBbLTIsIDRdKSkKICAgICAgLmNsZWFuKCkKICAgICAgLmNoYWluSHVsbCgKICAgICAgICB6KDIpLAogICAgICAgIHooZGgobnRoKSArIDUpLAogICAgICAgIHNjYWxlKDAuMjUsIDAuMjUsIDEpCiAgICAgICAgICAueihkaChudGgpICsgMTApCiAgICAgICAgICAueSgxKQogICAgICApCiAgICAgIC5jdXQoCiAgICAgICAgU2VxKHsgZnJvbTogMiwgdG86IGRoKG50aCksIGJ5OiA4IH0sIChoKSA9PgogICAgICAgICAgQm94KDMuNSwgMTUsIFtoLCBoICsgNV0pLnJ6KGRhKG50aCArIGgpKQogICAgICAgICkKICAgICAgKQogICAgICAudG8ocGxhY2UodHVybikpCiAgICAgIC5vbihzZWxmKCksIHJ6KC0zIC8gMTIpLngoMi41KSk7CiAgfQp9OwoKY29uc3QgQnVpbGRpbmcyID0gKHNlZWQgPSAwLCB0dXJuID0gMCwgbnRoID0gMCkgPT4gewogIGNvbnN0IGRoID0gcmFuZG9tKHNlZWQgKiAzOTgpLmluKDIsIDIwKTsKICBjb25zdCBkYSA9IHJhbmRvbShzZWVkICogNDMyKS5pbigwLCAxKTsKICBjb25zdCBkbCA9IHJhbmRvbShzZWVkICogMjEzKS5waWNrKDEgLyAzMiwgMSAvIDMyLCAwLCAwLCAwLCAwLCAwKTsKICBjb25zdCBkciA9IHJhbmRvbShzZWVkICogNjMyKS5waWNrKDEgLyAzMiwgMSAvIDMyLCAwLCAwLCAwLCAwLCAwKTsKICBpZiAodHVybiA9PT0gMCkgewogICAgcmV0dXJuICgKICAgICAgSGV4YWdvbigxMCkKICAgICAgICAvLy5leigyLCBkaChudGgpICsgMTApCiAgICAgICAgLmNoYWluSHVsbCgKICAgICAgICAgIHNlbGYoKSwKICAgICAgICAgIHooZGgobnRoKSArIDEwKSwKICAgICAgICAgIHNjYWxlKDAuMjUsIDAuMjUsIDEpLnooZGgobnRoKSArIDE1KQogICAgICAgICkKICAgICAgICAucnooMSAvIDEyKQogICAgKTsKICB9IGVsc2UgewogICAgcmV0dXJuIEhleGFnb24oMjgpCiAgICAgIC5jbGlwKExpbmUoNTApLmh1bGwocnooMiAvIDEyICsgZGwobnRoKSksIHJ6KDQgLyAxMiAtIGRyKG50aCkpKSkKICAgICAgLmN1dChIZXhhZ29uKDExLjgpKQogICAgICAuY2xlYW4oKQogICAgICAuY2hhaW5IdWxsKAogICAgICAgIHooMiksCiAgICAgICAgeihkaChudGgpICsgNSksCiAgICAgICAgc2NhbGUoMC4yNSwgMC4yNSwgMSkKICAgICAgICAgIC56KGRoKG50aCkgKyAxMCkKICAgICAgICAgIC55KC03KQogICAgICApCiAgICAgIC5yeih0dXJuICsgMSAvIDEyKQogICAgICAub24oc2VsZigpLCByeigtMSAvIDEyKS54KDApKTsKICB9Cn07Cgpjb25zdCB0dXJuTGlzdCA9IChjb25maWcpID0+CiAgY29uZmlnCiAgICAuc3BsaXQoJywnKQogICAgLm1hcCgodmFsdWUpID0+IHBhcnNlSW50KHZhbHVlKSkKICAgIC5maWx0ZXIoaXNGaW5pdGUpOwoKY29uc3QgdHVyblNpbmdsZXMgPSAoY29uZmlnKSA9PiB7CiAgY29uc3QgdHVybnMgPSB0dXJuTGlzdChjb25maWcpOwogIGNvbnN0IHNpbmdsZXMgPSBbXTsKICBmb3IgKGxldCBudGggPSAwOyBudGggPCB0dXJucy5sZW5ndGg7IG50aCArPSAxKSB7CiAgICBzaW5nbGVzLnB1c2goW3R1cm5zW250aF0gLyA2LCBudGhdKTsKICB9CiAgcmV0dXJuIHNpbmdsZXM7Cn07Cgpjb25zdCB0dXJuUGFpcnMgPSAoY29uZmlnKSA9PiB7CiAgY29uc3QgdHVybnMgPSB0dXJuTGlzdChjb25maWcpOwogIGNvbnN0IHBhaXJzID0gW107CiAgZm9yIChsZXQgbnRoID0gMTsgbnRoIDwgdHVybnMubGVuZ3RoOyBudGggKz0gMikgewogICAgcGFpcnMucHVzaChbdHVybnNbbnRoXSAvIDYsIHR1cm5zW250aCAtIDFdIC8gNiwgbnRoXSk7CiAgfQogIHJldHVybiBwYWlyczsKfTsKCmNvbnN0IFRpbGUgPSAoLi4uYXJncykgPT4gewogIGNvbnN0IFsKICAgIHNlZWQgPSAwLAogICAgewogICAgICB0ZXJyYWluLAogICAgICB0cmVlcywKICAgICAgaXNsYW5kcywKICAgICAgcGVha3MsCiAgICAgIHJpdmVyLAogICAgICBwYXRoLAogICAgICByb2FkLAogICAgICB0dW5uZWwsCiAgICAgIHdhbGwsCiAgICAgIGJ1aWxkaW5ncywKICAgICAgYnVpbGRpbmdzMiwKICAgICAgZmllbGQsCiAgICAgIHN3YW1wLAogICAgICBjYXZlcywKICAgIH0sCiAgXSA9IGFyZ3M7CgogIGNvbnNvbGUubG9nKGBUaWxlOiAke0pTT04uc3RyaW5naWZ5KGFyZ3MpfWApOwoKICBsZXQgY2F2ZUN1dCA9IEVtcHR5KCk7CiAgaWYgKGNhdmVzKSB7CiAgICBjb25zdCBkdCA9IHJhbmRvbShzZWVkKS5waWNrKDAgLyA2LCAxIC8gNiwgMiAvIDYsIDMgLyA2LCA0IC8gNiwgNSAvIDYpOwogICAgZm9yIChsZXQgaCA9IDI7IGggPCAyMDsgaCArPSA1KSB7CiAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgNjsgdCsrKSB7CiAgICAgICAgY2F2ZUN1dCA9IGNhdmVDdXQuYW5kKFR1bm5lbChzZWVkLCB0IC8gNiwgZHQoaCArIHQpLCBoKS56KGgpKTsKICAgICAgfQogICAgfQogIH0KCiAgY29uc3QgdGlsZVRlcnJhaW4gPSB7CiAgICBtZWFkb3c6IE1lYWRvdywKICAgIGhpbGw6IEhpbGwsCiAgICBtb3VudGFpbjogTW91bnRhaW4sCiAgICBkdW5lczogRHVuZXMsCiAgICB3YXZlczogV2F2ZXMsCiAgICBmbGF0OiBGbGF0LAogIH1bdGVycmFpbl0oc2VlZCk7CiAgbGV0IHRpbGUgPSB0aWxlVGVycmFpbjsKCiAgZm9yIChjb25zdCBbdHVybiwgbnRoXSBvZiB0dXJuU2luZ2xlcyh0cmVlcykpIHsKICAgIHRpbGUgPSB0aWxlLmFuZChGb3Jlc3Qoc2VlZCwgdHVybiwgbnRoKSk7CiAgfQoKICBjb25zdCBwZWFrVHVybnMgPSB0dXJuTGlzdChwZWFrcyk7CiAgaWYgKHBlYWtUdXJucy5sZW5ndGggPiAwKSB7CiAgICB0aWxlID0gdGlsZS5hbmQoCiAgICAgIFBlYWtzKAogICAgICAgIHNlZWQsCiAgICAgICAgcGVha1R1cm5zLm1hcCgodHVybikgPT4gdHVybiAvIDYpCiAgICAgICkKICAgICk7CiAgfQoKICBjb25zdCBpc2xhbmRUdXJucyA9IHR1cm5MaXN0KGlzbGFuZHMpOwogIGlmIChpc2xhbmRUdXJucy5sZW5ndGggPiAwKSB7CiAgICB0aWxlID0gdGlsZS5hbmQoCiAgICAgIFBlYWtzKAogICAgICAgIHNlZWQsCiAgICAgICAgaXNsYW5kVHVybnMubWFwKCh0dXJuKSA9PiB0dXJuIC8gNikKICAgICAgKQogICAgICAgIC56KC04KQogICAgICAgIC5jbGlwKGhleC5leihbMjBdKSkKICAgICk7CiAgfQoKICBjb25zdCBzd2FtcFR1cm5zID0gdHVybkxpc3Qoc3dhbXApOwogIGNvbnN0IHN3YW1wcyA9IFtdOwogIGZvciAoY29uc3QgdHVybiBvZiBzd2FtcFR1cm5zKSB7CiAgICBzd2FtcHMucHVzaChTd2FtcChzZWVkLCB0dXJuIC8gNiwgc3dhbXBzLmxlbmd0aCkpOwogIH0KICBpZiAoc3dhbXBzLmxlbmd0aCA+IDApIHsKICAgIHRpbGUgPSB0aWxlLmN1dCguLi5zd2FtcHMpOwogIH0KCiAgY29uc3Qgd2FsbFR1cm5zID0gdHVybkxpc3Qod2FsbCk7CiAgY29uc3Qgd2FsbHMgPSBbXTsKICBmb3IgKGNvbnN0IHR1cm4gb2Ygd2FsbFR1cm5zKSB7CiAgICB3YWxscy5wdXNoKFdhbGwoc2VlZCwgdHVybiAvIDYsIHdhbGxzLmxlbmd0aCkpOwogIH0KICBpZiAod2FsbHMubGVuZ3RoID4gMCkgewogICAgdGlsZSA9IHRpbGUuYW5kKC4uLndhbGxzKTsKICB9CgogIGZvciAoY29uc3QgW3RvLCBmcm9tLCBudGhdIG9mIHR1cm5QYWlycyhyaXZlcikpIHsKICAgIHRpbGUgPSB0aWxlLmN1dChSaXZlcihzZWVkLCB0bywgZnJvbSwgbnRoKSk7CiAgfQoKICBmb3IgKGNvbnN0IFt0dXJuLCBudGhdIG9mIHR1cm5TaW5nbGVzKGJ1aWxkaW5ncykpIHsKICAgIHRpbGUgPSB0aWxlLmFuZChCdWlsZGluZyhzZWVkLCB0dXJuLCBudGgpKTsKICB9CgogIGZvciAoY29uc3QgW3R1cm4sIG50aF0gb2YgdHVyblNpbmdsZXMoYnVpbGRpbmdzMikpIHsKICAgIHRpbGUgPSB0aWxlLmFuZChCdWlsZGluZzIoc2VlZCwgdHVybiwgbnRoKSk7CiAgfQoKICBjb25zdCBwYXRocyA9IFtdOwogIGZvciAoY29uc3QgW2Zyb20sIHRvLCBudGhdIG9mIHR1cm5QYWlycyhwYXRoKSkgewogICAgcGF0aHMucHVzaChQYXRoKHNlZWQsIGZyb20sIHRvLCBudGgpKTsKICB9CiAgaWYgKHBhdGhzLmxlbmd0aCA+IDApIHsKICAgIHRpbGUgPSB0aWxlLmN1dCgKICAgICAgSm9pbiguLi5wYXRocykKICAgICAgICAuY3V0KHRpbGVUZXJyYWluKQogICAgICAgIC56KC0wLjUpCiAgICApOwogIH0KCiAgY29uc3Qgcm9hZHMgPSBbXTsKICBmb3IgKGNvbnN0IFtmcm9tLCB0bywgbnRoXSBvZiB0dXJuUGFpcnMocm9hZCkpIHsKICAgIHJvYWRzLnB1c2goUm9hZChzZWVkLCBmcm9tLCB0bywgbnRoKSk7CiAgfQogIGlmIChyb2Fkcy5sZW5ndGggPiAwKSB7CiAgICB0aWxlID0gdGlsZS5jdXQoLi4ucm9hZHMpOwogIH0KCiAgZm9yIChjb25zdCBbdHVybiwgbnRoXSBvZiB0dXJuU2luZ2xlcyhmaWVsZCkpIHsKICAgIHRpbGUgPSB0aWxlLmFuZChGaWVsZChzZWVkLCB0dXJuLCBudGgpKTsKICB9CgogIGNvbnN0IHR1bm5lbHMgPSBbXTsKICBmb3IgKGNvbnN0IFtmcm9tLCB0bywgbnRoXSBvZiB0dXJuUGFpcnModHVubmVsKSkgewogICAgdHVubmVscy5wdXNoKFR1bm5lbChzZWVkLCBmcm9tLCB0bywgbnRoKSk7CiAgfQoKICBpZiAodHVubmVscy5sZW5ndGggPiAwKSB7CiAgICB0aWxlID0gdGlsZS5jdXQoLi4udHVubmVscyk7CiAgfQoKICB0aWxlID0gdGlsZS5jdXQoY2F2ZUN1dCk7CgogIHJldHVybiB0aWxlLmNsZWFuKCkuZnVzZSgpOwp9OwoKbWRgIyMjIFRpbGUgR2VuZXJhdG9yYDsKY29uc3Qgc2VlZDQgPSBjb250cm9sKCdzZWVkJywgJzEnLCAnaW5wdXQnKTsKY29uc3QgdGVycmFpbjIgPSBjb250cm9sKCd0ZXJyYWluJywgJ21lYWRvdycsICdzZWxlY3QnLCBbCiAgJ21lYWRvdycsCiAgJ2hpbGwnLAogICdtb3VudGFpbicsCiAgJ2R1bmVzJywKICAnd2F2ZXMnLAogICdmbGF0JywKXSk7CmNvbnN0IHRyZWVzMiA9IGNvbnRyb2woJ3RyZWVzJywgJycsICdpbnB1dCcpOwpjb25zdCBpc2xhbmRzMyA9IGNvbnRyb2woJ2lzbGFuZHMnLCAnJywgJ2lucHV0Jyk7CmNvbnN0IHBlYWtzID0gY29udHJvbCgncGVha3MnLCAnJywgJ2lucHV0Jyk7CmNvbnN0IHJpdmVyMyA9IGNvbnRyb2woJ3JpdmVyJywgJycsICdpbnB1dCcpOwpjb25zdCBzd2FtcDIgPSBjb250cm9sKCdzd2FtcCcsICcnLCAnaW5wdXQnKTsKY29uc3QgcGF0aDIgPSBjb250cm9sKCdwYXRoJywgJycsICdpbnB1dCcpOwpjb25zdCByb2FkID0gY29udHJvbCgncm9hZCcsICcnLCAnaW5wdXQnKTsKY29uc3QgdHVubmVsMiA9IGNvbnRyb2woJ3R1bm5lbCcsICcnLCAnaW5wdXQnKTsKY29uc3QgZmllbGQyID0gY29udHJvbCgnZmllbGQnLCAnJywgJ2lucHV0Jyk7CmNvbnN0IGJ1aWxkaW5ncyA9IGNvbnRyb2woJ2J1aWxkaW5ncycsICcnLCAnaW5wdXQnKTsKY29uc3QgYnVpbGRpbmdzMiA9IGNvbnRyb2woJ2J1aWxkaW5nczInLCAnJywgJ2lucHV0Jyk7CmNvbnN0IGNhdmVzID0gY29udHJvbCgnY2F2ZXMnLCAnJywgJ2lucHV0Jyk7CmNvbnN0IHdhbGwgPSBjb250cm9sKCd3YWxsJywgJycsICdpbnB1dCcpOwoKYXdhaXQgVGlsZShzZWVkNCwgewogIHRlcnJhaW46IHRlcnJhaW4yLAogIHRyZWVzOiB0cmVlczIsCiAgaXNsYW5kczogaXNsYW5kczMsCiAgcGVha3M6IHBlYWtzLAogIHJpdmVyOiByaXZlcjMsCiAgc3dhbXA6IHN3YW1wMiwKICBwYXRoOiBwYXRoMiwKICByb2FkOiByb2FkLAogIHR1bm5lbDogdHVubmVsMiwKICBidWlsZGluZ3M6IGJ1aWxkaW5ncywKICBidWlsZGluZ3MyOiBidWlsZGluZ3MyLAogIGNhdmVzOiBjYXZlcywKICB3YWxsOiB3YWxsLAogIGZpZWxkOiBmaWVsZDIsCn0pLnN0bCgndGlsZScpOwoKaGV4VGlsZS52aWV3KCdoZXhUaWxlJyk7Cg=="}, module: "nb/projects/pentacular/tiles/hex.nb", workspace: 'JSxCAD', container: document.getElementById('notebook') });
  </script>
  <div id="notebook" class="notebook"></div>
 </body>
</html>
